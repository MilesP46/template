// Bootstrap Theme Configuration
// Defines light and dark theme variables for Bootstrap components

// Import Bootstrap functions and variables
@import 'bootstrap/scss/functions';
@import 'bootstrap/scss/variables';
@import 'bootstrap/scss/variables-dark';
@import 'bootstrap/scss/mixins';

// Light Theme Variables (Bootstrap defaults with customizations)
$theme-colors: (
  "primary":    $primary,
  "secondary":  $secondary,
  "success":    $success,
  "info":       $info,
  "warning":    $warning,
  "danger":     $danger,
  "light":      $light,
  "dark":       $dark
);

// Custom Light Theme Variables
$custom-colors-light: (
  "body-bg": $white,
  "body-color": $gray-900,
  "heading-color": $gray-900,
  "link-color": $primary,
  "link-hover-color": darken($primary, 15%),
  "border-color": $gray-300,
  "box-shadow": 0 0.125rem 0.25rem rgba($black, 0.075),
  "box-shadow-lg": 0 1rem 3rem rgba($black, 0.175)
);

// Dark Theme Color Overrides
[data-bs-theme="dark"] {
  // Core colors
  --bs-primary: #4c9eff;
  --bs-secondary: #8a96a3;
  --bs-success: #2db85d;
  --bs-info: #29c7ea;
  --bs-warning: #ffb824;
  --bs-danger: #f44336;
  --bs-light: #424649;
  --bs-dark: #151515;
  
  // Body colors
  --bs-body-bg: #1a1a1a;
  --bs-body-color: #e9ecef;
  --bs-emphasis-color: #fff;
  --bs-secondary-color: rgba(233, 236, 239, 0.75);
  --bs-tertiary-color: rgba(233, 236, 239, 0.5);
  --bs-tertiary-bg: #2b3035;
  
  // Border colors
  --bs-border-color: #495057;
  --bs-border-color-translucent: rgba(255, 255, 255, 0.15);
  
  // Link colors
  --bs-link-color: #4c9eff;
  --bs-link-hover-color: #6cb2ff;
  --bs-link-color-rgb: 76, 158, 255;
  --bs-link-hover-color-rgb: 108, 178, 255;
  
  // Code colors
  --bs-code-color: #e83e8c;
  
  // Highlight colors
  --bs-highlight-bg: #664d03;
  
  // Component-specific colors
  --bs-card-bg: #212529;
  --bs-card-cap-bg: #2b3035;
  --bs-card-border-color: var(--bs-border-color);
  
  --bs-modal-bg: #212529;
  --bs-modal-header-border-color: var(--bs-border-color);
  --bs-modal-footer-border-color: var(--bs-border-color);
  
  --bs-dropdown-bg: #212529;
  --bs-dropdown-border-color: var(--bs-border-color);
  --bs-dropdown-divider-bg: var(--bs-border-color);
  --bs-dropdown-link-color: var(--bs-body-color);
  --bs-dropdown-link-hover-color: #fff;
  --bs-dropdown-link-hover-bg: #343a40;
  
  --bs-list-group-bg: #212529;
  --bs-list-group-border-color: var(--bs-border-color);
  --bs-list-group-hover-bg: #2b3035;
  --bs-list-group-action-hover-color: var(--bs-emphasis-color);
  --bs-list-group-action-active-bg: var(--bs-primary);
  --bs-list-group-action-active-color: #fff;
  
  --bs-nav-link-disabled-color: #6c757d;
  --bs-nav-tabs-border-color: var(--bs-border-color);
  --bs-nav-tabs-link-hover-border-color: var(--bs-border-color);
  --bs-nav-tabs-link-active-bg: var(--bs-body-bg);
  --bs-nav-tabs-link-active-border-color: var(--bs-border-color);
  
  --bs-pagination-bg: #212529;
  --bs-pagination-border-color: var(--bs-border-color);
  --bs-pagination-hover-bg: #343a40;
  --bs-pagination-hover-border-color: var(--bs-border-color);
  --bs-pagination-disabled-bg: #212529;
  --bs-pagination-disabled-border-color: var(--bs-border-color);
  
  --bs-form-valid-color: #75b798;
  --bs-form-valid-border-color: #75b798;
  --bs-form-invalid-color: #ea868f;
  --bs-form-invalid-border-color: #ea868f;
}

// Component-specific theme styles
.theme-customizations {
  // Smooth transitions for theme switching
  transition: background-color 0.3s ease, color 0.3s ease;
}

// Form controls in dark mode
[data-bs-theme="dark"] {
  .form-control,
  .form-select {
    background-color: #2b3035;
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
    
    &::placeholder {
      color: var(--bs-secondary-color);
    }
    
    &:focus {
      background-color: #2b3035;
      border-color: var(--bs-primary);
      color: var(--bs-body-color);
      box-shadow: 0 0 0 0.25rem rgba(76, 158, 255, 0.25);
    }
    
    &:disabled,
    &[readonly] {
      background-color: #1a1a1a;
      opacity: 0.5;
    }
  }
  
  .form-check-input {
    background-color: #2b3035;
    border-color: var(--bs-border-color);
    
    &:checked {
      background-color: var(--bs-primary);
      border-color: var(--bs-primary);
    }
    
    &:focus {
      border-color: var(--bs-primary);
      box-shadow: 0 0 0 0.25rem rgba(76, 158, 255, 0.25);
    }
  }
  
  // Input groups
  .input-group-text {
    background-color: #343a40;
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
  }
}

// Button variants for dark mode
[data-bs-theme="dark"] {
  .btn-outline-primary {
    --bs-btn-color: #4c9eff;
    --bs-btn-border-color: #4c9eff;
    --bs-btn-hover-bg: #4c9eff;
    --bs-btn-hover-border-color: #4c9eff;
    --bs-btn-active-bg: #4c9eff;
    --bs-btn-active-border-color: #4c9eff;
  }
  
  .btn-outline-secondary {
    --bs-btn-color: #8a96a3;
    --bs-btn-border-color: #8a96a3;
    --bs-btn-hover-bg: #8a96a3;
    --bs-btn-hover-border-color: #8a96a3;
  }
  
  .btn-light {
    --bs-btn-bg: #424649;
    --bs-btn-border-color: #424649;
    --bs-btn-hover-bg: #4e5356;
    --bs-btn-hover-border-color: #4e5356;
    --bs-btn-active-bg: #565b5f;
    --bs-btn-active-border-color: #565b5f;
  }
}

// Table styles for dark mode
[data-bs-theme="dark"] {
  .table {
    --bs-table-bg: transparent;
    --bs-table-striped-bg: rgba(255, 255, 255, 0.05);
    --bs-table-active-bg: rgba(255, 255, 255, 0.1);
    --bs-table-hover-bg: rgba(255, 255, 255, 0.075);
    
    > :not(caption) > * > * {
      background-color: var(--bs-table-bg);
      box-shadow: inset 0 0 0 9999px var(--bs-table-accent-bg);
    }
  }
  
  .table-bordered > :not(caption) > * {
    border-width: 1px 0;
    
    > * {
      border-width: 0 1px;
    }
  }
}

// Alert variants for dark mode
[data-bs-theme="dark"] {
  .alert-primary {
    --bs-alert-color: #9ec5fe;
    --bs-alert-bg: #031633;
    --bs-alert-border-color: #084298;
  }
  
  .alert-secondary {
    --bs-alert-color: #b7c0c9;
    --bs-alert-bg: #1a1d20;
    --bs-alert-border-color: #41464b;
  }
  
  .alert-success {
    --bs-alert-color: #a3cfbb;
    --bs-alert-bg: #051b11;
    --bs-alert-border-color: #0f5132;
  }
  
  .alert-danger {
    --bs-alert-color: #f5c2c7;
    --bs-alert-bg: #2c0b0e;
    --bs-alert-border-color: #842029;
  }
  
  .alert-warning {
    --bs-alert-color: #ffecb5;
    --bs-alert-bg: #332701;
    --bs-alert-border-color: #997404;
  }
  
  .alert-info {
    --bs-alert-color: #9eeaf9;
    --bs-alert-bg: #032830;
    --bs-alert-border-color: #087990;
  }
}

// Progress bars for dark mode
[data-bs-theme="dark"] {
  .progress {
    background-color: #343a40;
  }
}

// Badges for dark mode
[data-bs-theme="dark"] {
  .badge {
    &.bg-light {
      background-color: #424649 !important;
      color: #fff !important;
    }
  }
}

// Toasts for dark mode
[data-bs-theme="dark"] {
  .toast {
    background-color: #212529;
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
    
    .toast-header {
      background-color: #343a40;
      border-bottom-color: var(--bs-border-color);
      color: var(--bs-body-color);
    }
  }
}

// Offcanvas for dark mode
[data-bs-theme="dark"] {
  .offcanvas {
    background-color: #212529;
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
  }
}

// Accordion for dark mode
[data-bs-theme="dark"] {
  .accordion-item {
    background-color: #212529;
    border-color: var(--bs-border-color);
    color: var(--bs-body-color);
    
    .accordion-button {
      background-color: #212529;
      color: var(--bs-body-color);
      
      &:not(.collapsed) {
        background-color: #2b3035;
        color: var(--bs-emphasis-color);
      }
      
      &::after {
        filter: invert(1);
      }
    }
    
    .accordion-body {
      background-color: #212529;
    }
  }
}